import {toBlob} from "./image";
import b64toBlob from 'b64-to-blob';

let data = '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';

test('parses base64 to blob', () => {
    let contentType = 'image/png';
    let dataUrl = 'data:image/png;base64,' + data;
    let result = toBlob(dataUrl);
    let expected = b64toBlob(data, contentType);
    expect(result).toEqual(expected);
});

test('throws when format mismatches', () => {
    let data = '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';
    let dataUrl = 'hello;base64,' + data;
    expect(() => toBlob(dataUrl)).toThrow(/Invalid data URL format/);
});

test('throws when empty string', () => {
    expect(() => toBlob('')).toThrow(/Invalid data URL format/);
});